HTTP/1.1 200 OK
Date: Tue, 05 Feb 2019 09:09:09 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Set-Cookie: __cfduid=d8a7d69024e41d509665aca9a372560cc1549357748; expires=Wed, 05-Feb-20 09:09:08 GMT; path=/; domain=.animedia.tv; HttpOnly
Vary: Accept-Encoding
Set-Cookie: anim_last_visit=1233997748; expires=Wed, 05-Feb-2020 09:09:08 GMT; Max-Age=31536000; path=/; httponly
Set-Cookie: anim_last_activity=1549357748; expires=Wed, 05-Feb-2020 09:09:08 GMT; Max-Age=31536000; path=/; httponly
Set-Cookie: anim_tracker=%7B%220%22%3A%22ajax%2Fepisodes%2F9480%2F7%22%2C%22token%22%3A%2225abc2c6c8e3577c252024b490bcc32c%22%7D; path=/; httponly
Set-Cookie: anim_csrf_token=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/; httponly
Set-Cookie: anim_csrf_token=4ed0ca193d98cdfd7203e07d7c0929ca0ef2ea95; expires=Tue, 05-Feb-2019 11:09:08 GMT; Max-Age=7200; path=/; httponly
Alt-Svc: h2=":443"; ma=60
Server: cloudflare
CF-RAY: 4a443c8ae232c2a6-FRA
Content-Length: 5635

<div class="media__tabs__series__list carousel-inner" data-list_id="7">
<div class="media__tabs__series__list__item"><a href="/anime/skazka-o-hvoste-fei-TV1/7/1" title="ОВА 1"><img src="//static.animedia.tv/screens/14847386110b9fa9a9a87e3d3983c848d297aaca996281174c_min.jpg?w=153&h=86&fit=crop&q=45" alt="ОВА 1"></a><span>ОВА 1 из 4</span></div><div class="media__tabs__series__list__item"><a href="/anime/skazka-o-hvoste-fei-TV1/7/2" title="ОВА 2"><img src="//static.animedia.tv/screens/14847384843ca543fcf46f193bd224b77677e568deec9ac206_min.jpg?w=153&h=86&fit=crop&q=45" alt="ОВА 2"></a><span>ОВА 2 из 4</span></div><div class="media__tabs__series__list__item"><a href="/anime/skazka-o-hvoste-fei-TV1/7/3" title="ОВА 3"><img src="//static.animedia.tv/screens/14847385197c861feb539fe7af947ce8d84a807c033fe908fb_min.jpg?w=153&h=86&fit=crop&q=45" alt="ОВА 3"></a><span>ОВА 3 из 4</span></div><div class="media__tabs__series__list__item"><a href="/anime/skazka-o-hvoste-fei-TV1/7/4" title="ODA 1"><img src="//static.animedia.tv/screens/1464686462c9cc761483686b56db220c946ef8e5de0e8f397b_min.jpg?w=153&h=86&fit=crop&q=45" alt="ODA 1"></a><span>ODA 1 из 4</span></div>
</div>
<div class="clearfix"></div>
<div class="media__tabs__series__footer">
<div class="media__tabs__series__footer__item"><a href="#carousel6" data-slide="prev" class="media__tabs__series__control carousel-control prev"><i class="ai ai-prev"></i></a></div>
<div class="media__tabs__series__footer__item media__tabs__series__footer__item__center">Серии <span class="start-series"></span>-<span class="end-series"></span> из 4</div>
<div class="media__tabs__series__footer__item"><a href="#carousel6" data-slide="next" class="media__tabs__series__control carousel-control next"><i class="ai ai-next"></i></a></div>
</div>
<script>
    $(document).ready(function () {

        /**
         * Слайдер серий в табах
         */
        var seriesCount = 15,
                $seriesCarousel = $('.media__tabs__series');

        $seriesCarousel.each(function () {
            var $carousel = $(this),
                    $list = $carousel.find('.media__tabs__series__list'),
                    $active = '';

            while($list.children('div:not(.series-list__wrap)').length) {
                $list.children('div:not(.series-list__wrap):lt('+seriesCount+')').wrapAll('<div class="series-list__wrap row item">');
            }

            var $item = $list.find('.series-list__wrap'),
                    $firstItem = $list.find('.series-list__wrap:first-child'),
                    $lastItem = $list.find('.series-list__wrap:last-child'),
                    $control = $carousel.find('.media__tabs__series__control'),
                    $controlPrev = $carousel.find('.media__tabs__series__control.prev'),
                    $controlNext = $carousel.find('.media__tabs__series__control.next'),
                    $startSeries = $carousel.find('.start-series'),
                    $endSeries = $carousel.find('.end-series'),
                    firstMax = $firstItem.find('.media__tabs__series__list__item').length;

            $firstItem.addClass('active');
            $controlPrev.addClass('disabled');
            $startSeries.html('1');
            $endSeries.html(firstMax);

            if ($list.find('.media__tabs__series__list__item').length <= 15 ) {$control.hide();}

            var i = 1;
            var j = 1;

            $control.click(function (e) {
                var	$active = $list.find('.active'),
                        firstActive = getItemIndex($active),
                        lastActive = $item.length;

                $control.removeClass('disabled');

                if ( $(this).hasClass('prev') && firstActive === 1 ) {$controlPrev.addClass('disabled');} else {$controlPrev.removeClass('disabled');}
                if ( $(this).hasClass('next') && firstActive+2 === lastActive ) {$controlNext.addClass('disabled');} else {$controlNext.removeClass('disabled');}


                if ( $(this).hasClass('next') ) {
                    var firstMin = $list.find('.series-list__wrap:nth-child('+ (i++) +') .media__tabs__series__list__item').length,
                            lastMin = $list.find('.series-list__wrap:nth-child('+ ((j++)+1) +') .media__tabs__series__list__item').length,
                            startText = $startSeries.text(),
                            startText = Number(startText) + firstMin,
                            endText = $endSeries.text(),
                            endText =  Number(endText) + lastMin;
                    $startSeries.html(startText);
                    $endSeries.html(endText);
                }
                if ( $(this).hasClass('prev') ) {
                    var firstMin = $list.find('.series-list__wrap:nth-child('+ ((i--)-1) +') .media__tabs__series__list__item').length,
                            lastMin = $list.find('.series-list__wrap:nth-child('+ (j--) +') .media__tabs__series__list__item').length,
                            startText = $startSeries.text(),
                            startText = Number(startText) - firstMin,
                            endText = $endSeries.text(),
                            endText =  Number(endText) - lastMin;
                    $startSeries.html(startText);
                    $endSeries.html(endText);
                }
            });
            getItemIndex = function (item) {
                var $items = item.parent().children('.item')
                return $items.index(item || $active)
            }
        });


    });
</script>